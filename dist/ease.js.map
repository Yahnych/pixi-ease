{"version":3,"file":"ease.js","sources":["../node_modules/penner/penner.js","../node_modules/eventemitter3/index.js","../src/easeDisplayObject.js","../src/ease.js"],"sourcesContent":["\n/*\n\tCopyright Â© 2001 Robert Penner\n\tAll rights reserved.\n\n\tRedistribution and use in source and binary forms, with or without modification, \n\tare permitted provided that the following conditions are met:\n\n\tRedistributions of source code must retain the above copyright notice, this list of \n\tconditions and the following disclaimer.\n\tRedistributions in binary form must reproduce the above copyright notice, this list \n\tof conditions and the following disclaimer in the documentation and/or other materials \n\tprovided with the distribution.\n\n\tNeither the name of the author nor the names of contributors may be used to endorse \n\tor promote products derived from this software without specific prior written permission.\n\n\tTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY \n\tEXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n\tMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n\tCOPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n\tEXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n\tGOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED \n\tAND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n\tNEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED \n\tOF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n(function() {\n  var penner, umd;\n\n  umd = function(factory) {\n    if (typeof exports === 'object') {\n      return module.exports = factory;\n    } else if (typeof define === 'function' && define.amd) {\n      return define([], factory);\n    } else {\n      return this.penner = factory;\n    }\n  };\n\n  penner = {\n    linear: function(t, b, c, d) {\n      return c * t / d + b;\n    },\n    easeInQuad: function(t, b, c, d) {\n      return c * (t /= d) * t + b;\n    },\n    easeOutQuad: function(t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n    easeInOutQuad: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t + b;\n      } else {\n        return -c / 2 * ((--t) * (t - 2) - 1) + b;\n      }\n    },\n    easeInCubic: function(t, b, c, d) {\n      return c * (t /= d) * t * t + b;\n    },\n    easeOutCubic: function(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t + 1) + b;\n    },\n    easeInOutCubic: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t * t + b;\n      } else {\n        return c / 2 * ((t -= 2) * t * t + 2) + b;\n      }\n    },\n    easeInQuart: function(t, b, c, d) {\n      return c * (t /= d) * t * t * t + b;\n    },\n    easeOutQuart: function(t, b, c, d) {\n      return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n    },\n    easeInOutQuart: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t * t * t + b;\n      } else {\n        return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n      }\n    },\n    easeInQuint: function(t, b, c, d) {\n      return c * (t /= d) * t * t * t * t + b;\n    },\n    easeOutQuint: function(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    easeInOutQuint: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t * t * t * t + b;\n      } else {\n        return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n      }\n    },\n    easeInSine: function(t, b, c, d) {\n      return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n    },\n    easeOutSine: function(t, b, c, d) {\n      return c * Math.sin(t / d * (Math.PI / 2)) + b;\n    },\n    easeInOutSine: function(t, b, c, d) {\n      return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n    },\n    easeInExpo: function(t, b, c, d) {\n      if (t === 0) {\n        return b;\n      } else {\n        return c * Math.pow(2, 10 * (t / d - 1)) + b;\n      }\n    },\n    easeOutExpo: function(t, b, c, d) {\n      if (t === d) {\n        return b + c;\n      } else {\n        return c * (-Math.pow(2, -10 * t / d) + 1) + b;\n      }\n    },\n    easeInOutExpo: function(t, b, c, d) {\n      if (t === 0) {\n        b;\n      }\n      if (t === d) {\n        b + c;\n      }\n      if ((t /= d / 2) < 1) {\n        return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n      } else {\n        return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n      }\n    },\n    easeInCirc: function(t, b, c, d) {\n      return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n    },\n    easeOutCirc: function(t, b, c, d) {\n      return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n    },\n    easeInOutCirc: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n      } else {\n        return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n      }\n    },\n    easeInElastic: function(t, b, c, d) {\n      var a, p, s;\n      s = 1.70158;\n      p = 0;\n      a = c;\n      if (t === 0) {\n        b;\n      } else if ((t /= d) === 1) {\n        b + c;\n      }\n      if (!p) {\n        p = d * .3;\n      }\n      if (a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n      return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    },\n    easeOutElastic: function(t, b, c, d) {\n      var a, p, s;\n      s = 1.70158;\n      p = 0;\n      a = c;\n      if (t === 0) {\n        b;\n      } else if ((t /= d) === 1) {\n        b + c;\n      }\n      if (!p) {\n        p = d * .3;\n      }\n      if (a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n      return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n    },\n    easeInOutElastic: function(t, b, c, d) {\n      var a, p, s;\n      s = 1.70158;\n      p = 0;\n      a = c;\n      if (t === 0) {\n        b;\n      } else if ((t /= d / 2) === 2) {\n        b + c;\n      }\n      if (!p) {\n        p = d * (.3 * 1.5);\n      }\n      if (a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n      if (t < 1) {\n        return -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n      } else {\n        return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n      }\n    },\n    easeInBack: function(t, b, c, d, s) {\n      if (s === void 0) {\n        s = 1.70158;\n      }\n      return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    easeOutBack: function(t, b, c, d, s) {\n      if (s === void 0) {\n        s = 1.70158;\n      }\n      return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    easeInOutBack: function(t, b, c, d, s) {\n      if (s === void 0) {\n        s = 1.70158;\n      }\n      if ((t /= d / 2) < 1) {\n        return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n      } else {\n        return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n      }\n    },\n    easeInBounce: function(t, b, c, d) {\n      var v;\n      v = penner.easeOutBounce(d - t, 0, c, d);\n      return c - v + b;\n    },\n    easeOutBounce: function(t, b, c, d) {\n      if ((t /= d) < 1 / 2.75) {\n        return c * (7.5625 * t * t) + b;\n      } else if (t < 2 / 2.75) {\n        return c * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + b;\n      } else if (t < 2.5 / 2.75) {\n        return c * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + b;\n      } else {\n        return c * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + b;\n      }\n    },\n    easeInOutBounce: function(t, b, c, d) {\n      var v;\n      if (t < d / 2) {\n        v = penner.easeInBounce(t * 2, 0, c, d);\n        return v * .5 + b;\n      } else {\n        v = penner.easeOutBounce(t * 2 - d, 0, c, d);\n        return v * .5 + c * .5 + b;\n      }\n    }\n  };\n\n  umd(penner);\n\n}).call(this);\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import Events from 'eventemitter3'\r\n\r\nexport class EaseDisplayObject extends Events\r\n{\r\n    /**\r\n     * each DisplayObject has its own EaseElement object returned by add() or accessed through DisplayObject.__ease_{$id}\r\n     * @extends EventEmitter\r\n     * @fires EaseElement#complete\r\n     * @fires EaseElement#each-*\r\n     * @fires EaseElement#complete-*\r\n     * @fires EaseElement#reverse-*\r\n     * @fires EaseElement#repeat-*\r\n     * @fires EaseElement#wait-*\r\n     * @fires EaseElement#wait-end-*\r\n     */\r\n    constructor(element, ease)\r\n    {\r\n        super()\r\n\r\n        /**\r\n         * element being animated\r\n         * @member {PIXI.DisplayObject}\r\n         */\r\n        this.element = element\r\n        this.ease = ease\r\n        this.eases = []\r\n        this.connected = true\r\n    }\r\n\r\n    /**\r\n     * clears all eases and disconnects object from list\r\n     */\r\n    clear()\r\n    {\r\n        this.eases = []\r\n    }\r\n\r\n    addParam(entry, param, options)\r\n    {\r\n        let start, to, delta, update, name = entry\r\n        switch (entry)\r\n        {\r\n            case 'scaleX':\r\n            case 'skewX':\r\n                name = entry.substr(0, entry.length - 1)\r\n                start = this.element[name].x\r\n                to = param\r\n                delta = param - start\r\n                update = ease => this.updateCoord(ease, entry, name, 'x')\r\n                break\r\n\r\n            case 'scaleY':\r\n            case 'skewY':\r\n                name = entry.substr(0, entry.length - 1)\r\n                start = this.element[name].y\r\n                to = param\r\n                delta = param - start\r\n                update = ease => this.updateCoord(ease, entry, name, 'y')\r\n                break\r\n\r\n            case 'tint':\r\n            case 'blend':\r\n                const colors = Array.isArray(param) ? param : [this.element.tint, param]\r\n                start = 0\r\n                to = colors.length\r\n                delta = to\r\n                update = (entry === 'tint') ? ease => this.updateTint(ease, entry, colors) : ease => this.updateBlend(ease, entry, colors)\r\n                break\r\n\r\n            case 'shake':\r\n                start = { x: this.element.x, y: this.element.y }\r\n                to = param\r\n                update = ease => this.updateShake(ease)\r\n                break\r\n\r\n            case 'position':\r\n                start = { x: this.element.x, y: this.element.y }\r\n                to = { x: param.x, y: param.y }\r\n                delta = { x: to.x - start.x, y: to.y - start.y }\r\n                update = ease => this.updatePosition(ease)\r\n                break\r\n\r\n            case 'skew':\r\n            case 'scale':\r\n                start = this.element[entry].x\r\n                to = param\r\n                delta = param - start\r\n                update = ease => this.updatePoint(ease, entry)\r\n                break\r\n\r\n            case 'face':\r\n                start = this.element.rotation\r\n                to = EaseDisplayObject.shortestAngle(start, Math.atan2(param.y - this.element.y, param.x - this.element.x))\r\n                delta = to - start\r\n                update = ease => this.updateOne(ease, 'rotation')\r\n                break\r\n\r\n            default:\r\n                start = this.element[entry]\r\n                to = param\r\n                delta = param - start\r\n                update = ease => this.updateOne(ease, entry)\r\n        }\r\n        this.eases.push({ entry, options, update, start, to, delta, time: 0, wait: options.wait })\r\n    }\r\n\r\n    /**\r\n     * helper function to find closest angle to change between angle start and angle finish (used by face)\r\n     * @param {number} start angle\r\n     * @param {number} finish angle\r\n     */\r\n    static shortestAngle(start, finish)\r\n    {\r\n        function mod(a, n)\r\n        {\r\n            return (a % n + n) % n\r\n        }\r\n\r\n        const PI_2 = Math.PI * 2\r\n        let diff = Math.abs(start - finish) % PI_2\r\n        diff = diff > Math.PI ? (PI_2 - diff) : diff\r\n\r\n        const simple = finish - start\r\n        const sign = mod((simple + Math.PI), PI_2) - Math.PI > 0 ? 1 : -1\r\n\r\n        return diff * sign\r\n    }\r\n\r\n    /**\r\n     * remove all matching parameters from element\r\n     * @param {(string|string[])} params\r\n     */\r\n    remove(params)\r\n    {\r\n        params = typeof params === 'string' ? [params] : params\r\n        for (let i = 0; i < this.eases.length; i++)\r\n        {\r\n            if (params.indexOf(this.eases[i].entry) !== -1)\r\n            {\r\n                this.eases.splice(i, 1)\r\n                i--\r\n            }\r\n        }\r\n    }\r\n\r\n    add(params, options)\r\n    {\r\n        if (options.removeExisting)\r\n        {\r\n            const skew = ['skewX', 'skewY', 'skew']\r\n            const scale = ['scaleX', 'scaleY', 'scale']\r\n            const position = ['position', 'x', 'y']\r\n            for (let entry in params)\r\n            {\r\n                if (skew.indexOf(entry) !== -1)\r\n                {\r\n                    this.remove(skew)\r\n                }\r\n                else if (scale.indexOf(entry) !== -1)\r\n                {\r\n                    this.remove(scale)\r\n                }\r\n                else if (entry === 'position')\r\n                {\r\n                    this.remove(position)\r\n                }\r\n                else if (entry === 'x')\r\n                {\r\n                    this.remove(['x', 'position'])\r\n                }\r\n                else if (entry === 'y')\r\n                {\r\n                    this.remove(['y', 'position'])\r\n                }\r\n                else\r\n                {\r\n                    this.remove(entry)\r\n                }\r\n            }\r\n        }\r\n        for (let entry in params)\r\n        {\r\n            const opts = { ease: options.ease, duration: options.duration, repeat: options.repeat, reverse: options.reverse, wait: options.wait }\r\n            this.addParam(entry, params[entry], opts)\r\n        }\r\n    }\r\n\r\n    updateOne(ease, entry)\r\n    {\r\n        this.element[entry] = ease.options.ease(ease.time, ease.start, ease.delta, ease.options.duration)\r\n    }\r\n\r\n    updatePoint(ease, entry)\r\n    {\r\n        this.element[entry].x = this.element[entry].y = ease.options.ease(ease.time, ease.start, ease.delta, ease.options.duration)\r\n    }\r\n\r\n    updatePosition(ease)\r\n    {\r\n        this.element.x = ease.options.ease(ease.time, ease.start.x, ease.delta.x, ease.options.duration)\r\n        this.element.y = ease.options.ease(ease.time, ease.start.y, ease.delta.y, ease.options.duration)\r\n    }\r\n\r\n    updateCoord(ease, entry, name, coord)\r\n    {\r\n        this.element[name][coord] = ease.options.ease(ease.time, ease.start, ease.delta, ease.options.duration)\r\n    }\r\n\r\n    updateTint(ease, entry, colors)\r\n    {\r\n        const index = Math.floor(ease.options.ease(ease.time, ease.start, ease.delta, ease.options.duration))\r\n        this.element.tint = colors[index]\r\n    }\r\n\r\n    updateBlend(ease, entry, colors)\r\n    {\r\n        const calc = ease.options.ease(ease.time, ease.start, ease.delta, ease.options.duration)\r\n        const index = Math.floor(calc)\r\n        let next = index + 1\r\n        if (next === colors.length)\r\n        {\r\n            next = ease.options.reverse ? index - 1 : ease.options.repeat ? 0 : index\r\n        }\r\n        const percent = calc - index\r\n        const color1 = colors[index]\r\n        const color2 = colors[next]\r\n        const r1 = color1 >> 16\r\n        const g1 = color1 >> 8 & 0x0000ff\r\n        const b1 = color1 & 0x0000ff\r\n        const r2 = color2 >> 16\r\n        const g2 = color2 >> 8 & 0x0000ff\r\n        const b2 = color2 & 0x0000ff\r\n        const percent1 = 1 - percent\r\n        const r = percent1 * r1 + percent * r2\r\n        const g = percent1 * g1 + percent * g2\r\n        const b = percent1 * b1 + percent * b2\r\n        this.element.tint = r << 16 | g << 8 | b\r\n    }\r\n\r\n    updateShake(ease)\r\n    {\r\n        function random(n)\r\n        {\r\n            return Math.floor(Math.random() * n) - Math.floor(n / 2)\r\n        }\r\n        this.element.x = ease.start.x + random(ease.to)\r\n        this.element.y = ease.start.y + random(ease.to)\r\n    }\r\n\r\n    complete(ease)\r\n    {\r\n        if (ease.entry === 'shake')\r\n        {\r\n            this.element.x = ease.start.x\r\n            this.element.y = ease.start.y\r\n        }\r\n    }\r\n\r\n    reverse(ease)\r\n    {\r\n        if (ease.entry === 'position')\r\n        {\r\n            const swapX = ease.to.x\r\n            const swapY = ease.to.y\r\n            ease.to.x = ease.start.x\r\n            ease.to.y = ease.start.y\r\n            ease.start.x = swapX\r\n            ease.start.y = swapY\r\n            ease.delta.x = -ease.delta.x\r\n            ease.delta.y = -ease.delta.y\r\n        }\r\n        else\r\n        {\r\n            const swap = ease.to\r\n            ease.to = ease.start\r\n            ease.start = swap\r\n            ease.delta = -ease.delta\r\n        }\r\n    }\r\n\r\n    repeat(ease)\r\n    {\r\n        switch (ease.entry)\r\n        {\r\n            case 'skewX':\r\n                this.element.skew.x = ease.start\r\n                break\r\n\r\n            case 'skewY':\r\n                this.element.skew.y = ease.start\r\n                break\r\n\r\n            case 'skew':\r\n                this.element.skew.x = ease.start\r\n                this.element.skew.y = ease.start\r\n                break\r\n\r\n            case 'scaleX':\r\n                this.element.scale.x = ease.start\r\n                break\r\n\r\n            case 'scaleY':\r\n                this.element.scale.y = ease.start\r\n                break\r\n\r\n            case 'scale':\r\n                this.element.scale.x = ease.start\r\n                this.element.scale.y = ease.start\r\n                break\r\n\r\n            case 'position':\r\n                this.element.x = ease.start.x\r\n                this.element.y = ease.start.y\r\n                break\r\n\r\n            default:\r\n                this.element[ease.entry] = ease.start\r\n        }\r\n    }\r\n\r\n    update(elapsed)\r\n    {\r\n        if (this.element._destroyed)\r\n        {\r\n            delete this.element[this.key]\r\n            this.connected = false\r\n            return true\r\n        }\r\n        if (this.eases.length)\r\n        {\r\n            for (let i = 0; i < this.eases.length; i++)\r\n            {\r\n                let current = elapsed\r\n                const ease = this.eases[i]\r\n                if (ease.wait)\r\n                {\r\n                    ease.wait -= elapsed\r\n                    if (ease.wait <= 0)\r\n                    {\r\n                        current += ease.wait\r\n                        ease.wait = 0\r\n                        this.emit(`wait-end-${ease.entry}`, ease.element)\r\n                    }\r\n                    else\r\n                    {\r\n                        this.emit(`wait-${ease.entry}`, { element: this.element, wait: ease.wait })\r\n                        continue\r\n                    }\r\n                }\r\n                const duration = ease.options.duration\r\n                let leftover = 0\r\n                if (ease.time + current > duration)\r\n                {\r\n                    leftover = ease.time + current - duration\r\n                    ease.time = duration\r\n                }\r\n                else\r\n                {\r\n                    ease.time += current\r\n                }\r\n                ease.update(ease)\r\n                if (ease.time >= ease.options.duration)\r\n                {\r\n                    const options = ease.options\r\n                    if (options.reverse)\r\n                    {\r\n                        this.reverse(ease)\r\n                        ease.time = leftover\r\n                        if (leftover)\r\n                        {\r\n                            ease.update(ease)\r\n                        }\r\n                        this.emit(`reverse-${ease.entry}`, ease.element)\r\n                        if (!options.repeat)\r\n                        {\r\n                            options.reverse = false\r\n                        }\r\n                        else if (options.repeat !== true)\r\n                        {\r\n                            options.repeat--\r\n                        }\r\n                    }\r\n                    else if (options.repeat)\r\n                    {\r\n                        this.repeat(ease)\r\n                        ease.time = leftover\r\n                        if (leftover)\r\n                        {\r\n                            ease.update(ease)\r\n                        }\r\n                        if (options.repeat !== true)\r\n                        {\r\n                            options.repeat--\r\n                        }\r\n                        this.emit(`repeat-${ease.entry}`, ease.element)\r\n                    }\r\n                    else\r\n                    {\r\n                        this.complete(ease)\r\n                        this.eases.splice(i, 1)\r\n                        i--\r\n                        this.emit(`complete-${ease.entry}`, this.element)\r\n                    }\r\n                }\r\n                this.emit(`each-${ease.entry}`, { element: this.element, time: ease.time })\r\n            }\r\n            this.emit('each', this)\r\n            if (this.eases.length === 0)\r\n            {\r\n                this.emit('complete', this)\r\n                if (this.eases.length === 0)\r\n                {\r\n                    this.connected = false\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * number of parameters being eased\r\n     * @returns {number}\r\n     */\r\n    get count()\r\n    {\r\n        return this.eases.length\r\n    }\r\n}\r\n\r\n/**\r\n * fires when there are no more animations for this DisplayObject\r\n * @event EaseElement#complete\r\n * @type {EaseElement}\r\n */\r\n\r\n/**\r\n * fires when the parameter completes the ease\r\n * where name is the name of the parameter being eased (e.g., complete-x)\r\n * @event EaseElement#complete-*\r\n * @type {EaseElement}\r\n */\r\n\r\n/**\r\n * fires on each loop where there are animations\r\n * where * is the name of the parameter being eased (e.g., each-rotation)\r\n * @event EaseElement#each-*\r\n * @type {object}\r\n * @property {EaseElement} element\r\n * @property {number} time remaining\r\n */\r\n\r\n/**\r\n * fires when an animation repeats\r\n * where * is the name of the parameter being eased (e.g., repeat-skewX)\r\n * @event EaseElement#repeat-*\r\n * @type {EaseElement}\r\n */\r\n\r\n /**\r\n * fires when an animation reverses\r\n * where * is the name of the parameter being eased (e.g., reverse-skewX)\r\n * @event EaseElement#reverse-*\r\n * @type {EaseElement}\r\n */\r\n\r\n/**\r\n * fires on each frame while a wait is counting down\r\n * where * is the name fo the parameter being eased (e.g., wait-end-y)\r\n * @event EaseElement#wait-*\r\n * @type {object}\r\n * @property {EaseElement} element\r\n * @property {number} wait\r\n */\r\n\r\n/**\r\n * fires after a wait expires for a parameter\r\n * where * is the name fo the parameter being eased (e.g., wait-end-y)\r\n * @event EaseElement#wait-end-*\r\n * @type { EaseElement }\r\n */","import * as PIXI from 'pixi.js'\r\nimport Penner from 'penner'\r\nimport Events from 'eventemitter3'\r\n\r\nimport { EaseDisplayObject } from './easeDisplayObject'\r\n\r\nconst easeOptions = {\r\n    duration: 1000,\r\n    ease: Penner.easeInOutSine,\r\n    useTicker: true,\r\n    maxFrame: 1000 / 60\r\n}\r\n\r\n/**\r\n * Manages a group of eases\r\n * @extends EventEmitter\r\n * @example\r\n * import * as PIXI from 'pixi.js'\r\n * import { Ease, ease } from 'pixi-ease'\r\n *\r\n * const app = new PIXI.Application()\r\n * const test = app.stage.addChild(new PIXI.Sprite(PIXI.Texture.WHITE))\r\n *\r\n * const move = ease.add(test, { x: 20, y: 15, alpha: 0.25 }, { reverse: true })\r\n * move.once('complete', () => console.log('move ease complete.'))\r\n *\r\n * test.generic = 25\r\n * const generic = ease.add(test, { generic: 0 }, { duration: 1500, ease: 'easeOutQuad' })\r\n * generic.on('each', () => console.log(test.generic))\r\n *\r\n * const secondEase = new Ease({ duration: 3000, ease: 'easeInBack' })\r\n * const test2 = app.stage.addChild(new PIXI.Sprite(PIXI.Texture.WHITE))\r\n * test2.tint = 0x0000ff\r\n * secondEase.add(test2, { blend: [0xff0000, 0x00ff00], scale: 2 })\r\n */\r\nexport class Ease extends Events\r\n{\r\n    /**\r\n     * @param {object} [options]\r\n     * @param {number} [options.duration=1000] default duration if not set\r\n     * @param {(string|function)} [options.ease=Penner.easeInOutSine] default ease function if not set (see {@link https://www.npmjs.com/package/penner} for names of easing functions)\r\n     * @param {boolean} [options.useTicker=true] attach updates to a PIXI.Ticker\r\n     * @param {PIXI.Ticker} [options.ticker=PIXI.ticker.shared || PIXI.Ticker.shared] which PIXI.Ticker to use\r\n     * @param {number} [options.maxFrame=1000/60] maximum frame time (set to Infinity to ignore)\r\n     * @fires Ease#complete\r\n     * @fires Ease#each\r\n     */\r\n    constructor(options)\r\n    {\r\n        super()\r\n        this.options = Object.assign({}, easeOptions, options)\r\n        this.list = []\r\n        this.waitRemoveEase = []\r\n        this.waitRemoveAllEases = []\r\n        this.empty = true\r\n        if (this.options.useTicker === true)\r\n        {\r\n            if (this.options.ticker)\r\n            {\r\n                this.ticker = this.options.ticker\r\n            }\r\n            else\r\n            {\r\n                // weird code to ensure pixi.js v4 support (which changed from PIXI.ticker.shared to PIXI.Ticker.shared)\r\n                // to avoid Rollup transforming our import, save pixi namespace in a variable\r\n                // from here: https://github.com/pixijs/pixi.js/issues/5757\r\n                const pixiNS = PIXI\r\n                if (parseInt(/^(\\d+)\\./.exec(PIXI.VERSION)[1]) < 5)\r\n                {\r\n                    this.ticker = pixiNS.ticker.shared\r\n                }\r\n                else\r\n                {\r\n                    this.ticker = pixiNS.Ticker.shared\r\n                }\r\n            }\r\n            this.ticker.add(this.update, this)\r\n        }\r\n        this.key = `__ease_${Ease.id++}`\r\n    }\r\n\r\n    /**\r\n     * removes all eases and tickers\r\n     */\r\n    destroy()\r\n    {\r\n        this.removeAll(true)\r\n        if (this.options.useTicker === true)\r\n        {\r\n            this.ticker.remove(this.update, this)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * add animation(s) to a PIXI.DisplayObject element\r\n     * @param {(PIXI.DisplayObject|PIXI.DisplayObject[])} element\r\n     *\r\n     * @param {object} params\r\n     * @param {number} [params.x]\r\n     * @param {number} [params.y]\r\n     * @param {(PIXI.DisplayObject|PIXI.Point)} [params.position] changes both x and y\r\n     * @param {number} [params.width]\r\n     * @param {number} [params.height]\r\n     * @param {number} [params.scale] changes both scale.x and scale.y\r\n     * @param {number} [params.scaleX]\r\n     * @param {number} [params.scaleY]\r\n     * @param {number} [params.alpha]\r\n     * @param {number} [params.rotation]\r\n     * @param {(PIXI.DisplayObject|PIXI.Point)} [params.face] rotate the element to face a DisplayObject using the closest angle\r\n     * @param {number} [params.skew] changes both skew.x and skew.y\r\n     * @param {number} [params.skewX]\r\n     * @param {number} [params.skewY]\r\n     * @param {(number|number[])} [params.tint] cycle through colors - if number is provided then it cycles between current tint and number; if number[] is provided is cycles only between tints in the number[]\r\n     * @param {(number|number[])} [params.blend] blend between colors - if number is provided then it blends current tint to number; if number[] is provided then it blends between the tints in the number[]\r\n     * @param {number} [params.shake] shakes the object by this number (randomly placing the element +/-shake pixels away from starting point)\r\n     * @param {number} [params.*] generic number parameter\r\n     *\r\n     * @param {object} [options]\r\n     * @param {number} [options.duration]\r\n     * @param {(string|function)} [options.ease]\r\n     * @param {(boolean|number)} [options.repeat]\r\n     * @param {boolean} [options.reverse]\r\n     * @param {number} [options.wait] wait this number of milliseconds before ease starts\r\n     * @param {boolean} [options.removeExisting] removes existing eases on the element of the same type (including x,y/position, skewX,skewY/skew, scaleX,scaleY/scale)\r\n     * @returns {(EaseDisplayObject|EaseDisplayObject[])}\r\n     */\r\n    add(element, params, options)\r\n    {\r\n        if (Array.isArray(element))\r\n        {\r\n            const easeDisplayObjects = []\r\n            for (let i = 0; i < element.length; i++)\r\n            {\r\n                if (i === element.length - 1)\r\n                {\r\n                    easeDisplayObjects.push(this.add(element[i], params, options))\r\n                }\r\n                else\r\n                {\r\n                    easeDisplayObjects.push(this.add(element[i], params, options))\r\n                }\r\n            }\r\n            return easeDisplayObjects\r\n        }\r\n\r\n        options = options || {}\r\n        options.duration = typeof options.duration !== 'undefined' ? options.duration : this.options.duration\r\n        options.ease = options.ease || this.options.ease\r\n        if (typeof options.ease === 'string')\r\n        {\r\n            options.ease = Penner[options.ease]\r\n        }\r\n\r\n        let ease = element[this.key]\r\n        if (ease)\r\n        {\r\n            if (!ease.connected)\r\n            {\r\n                this.list.push(element[this.key])\r\n            }\r\n        }\r\n        else\r\n        {\r\n            ease = element[this.key] = new EaseDisplayObject(element, this)\r\n            this.list.push(ease)\r\n        }\r\n        ease.add(params, options)\r\n        this.empty = false\r\n        return ease\r\n    }\r\n\r\n    /**\r\n     * helper function to create an ease that changes x and y to move the element to the desired target at the speed\r\n     * NOTE: under the hood this calls add(element {x, y }, { duration: <calculated speed based on distance and speed> })\r\n     * @param {PIXI.DisplayObject} element\r\n     * @param {(PIXI.DisplayObject|PIXI.Point)} target\r\n     * @param {number} speed in pixels / ms\r\n     *\r\n     * @param {object} [options]\r\n     * @param {(string|function)} [options.ease]\r\n     * @param {(boolean|number)} [options.repeat]\r\n     * @param {boolean} [options.reverse]\r\n     * @param {number} [options.wait] wait this number of milliseconds before ease starts\r\n     * @param {boolean} [options.removeExisting] removes existing eases on the element of the same type (including x,y/position, skewX,skewY/skew, scaleX,scaleY/scale)\r\n     *\r\n     * @returns {EaseDisplayObject}\r\n     */\r\n    target(element, target, speed, options)\r\n    {\r\n        const duration = Math.sqrt(Math.pow(element.x - target.x, 2) + Math.pow(element.y - target.y, 2)) / speed\r\n        options = options || {}\r\n        options.duration = duration\r\n        return this.add(element, { x: target.x, y: target.y }, options)\r\n    }\r\n\r\n    /**\r\n     * helper function to add an ease that changes rotation to face the element at the desired target using the speed\r\n     * NOTE: under the hood this calls add(element {x, y }, { duration: <calculated speed based on shortest rotation and speed> })\r\n     * @param {PIXI.DisplayObject} element\r\n     * @param {(PIXI.DisplayObject|PIXI.Point)} target\r\n     * @param {number} speed in radians / ms\r\n     *\r\n     * @param {object} [options]\r\n     * @param {(string|function)} [options.ease]\r\n     * @param {(boolean|number)} [options.repeat]\r\n     * @param {boolean} [options.reverse]\r\n     * @param {number} [options.wait] wait this number of milliseconds before ease starts\r\n     * @param {boolean} [options.removeExisting] removes existing eases on the element of the same type (including x,y/position, skewX,skewY/skew, scaleX,scaleY/scale)\r\n     *\r\n     * @returns {EaseDisplayObject}\r\n     */\r\n    face(element, target, speed, options)\r\n    {\r\n        const shortestAngle = EaseDisplayObject.shortestAngle(element.rotation, Math.atan2(target.y - element.y, target.x - element.x))\r\n        const duration = Math.abs(shortestAngle - element.rotation) / speed\r\n        options = options || {}\r\n        options.duration = duration\r\n        return this.add(element, { rotation: shortestAngle }, options)\r\n    }\r\n\r\n    /**\r\n     * remove all eases from a DisplayObject\r\n     * @param {PIXI.DisplayObject} object\r\n     */\r\n    removeAllEases(object)\r\n    {\r\n        if (object[this.key])\r\n        {\r\n            this.list.splice(this.list.indexOf(object[this.key]), 1)\r\n            object[this.key].clear()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * removes one or more eases from a DisplayObject\r\n     * @param {PIXI.DisplayObject} element\r\n     * @param {(string|string[])} param\r\n     */\r\n    removeEase(element, param)\r\n    {\r\n        const ease = element[this.key]\r\n        if (ease)\r\n        {\r\n            if (Array.isArray(param))\r\n            {\r\n                param.forEach(entry => ease.remove(entry))\r\n            }\r\n            else\r\n            {\r\n                ease.remove(param)\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * remove all animations for all DisplayObjects\r\n     */\r\n    removeAll()\r\n    {\r\n        while (this.list.length)\r\n        {\r\n            const easeDisplayObject = this.list.pop()\r\n            if (easeDisplayObject.element[this.key])\r\n            {\r\n                easeDisplayObject.element[this.key].clear()\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * update frame; this is called automatically if options.useTicker !== false\r\n     * @param {number} elapsed time in ms since last frame (capped at options.maxFrame)\r\n     */\r\n    update()\r\n    {\r\n        if (!this.empty)\r\n        {\r\n            const elapsed = Math.max(this.ticker.elapsedMS, this.options.maxFrame)\r\n            for (let i = 0; i < this.list.length; i++)\r\n            {\r\n                if (this.list[i].update(elapsed))\r\n                {\r\n                    this.list.splice(i, 1)\r\n                    i--\r\n                }\r\n            }\r\n            this.emit('each', this)\r\n            if (this.list.length === 0)\r\n            {\r\n                this.empty = true\r\n                this.emit('complete', this)\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * number of elements being eased\r\n     * @returns {number}\r\n     */\r\n    countElements()\r\n    {\r\n        return this.list.length\r\n    }\r\n\r\n    /**\r\n     * number of active animations across all elements\r\n     * @returns {number}\r\n     */\r\n    countRunning()\r\n    {\r\n        let count = 0\r\n        for (let entry of this.list)\r\n        {\r\n            count += entry.count\r\n        }\r\n        return count\r\n    }\r\n\r\n    /**\r\n     * default duration for eases.add() (only applies to newly added eases)\r\n     * @type {number}\r\n     */\r\n    set duration(duration)\r\n    {\r\n        this.options.duration = duration\r\n    }\r\n    get duration()\r\n    {\r\n        return this.options.duration\r\n    }\r\n\r\n    /**\r\n     * default ease for eases.add() (only applies to newly added eases)\r\n     * @type {(string|Function)}\r\n     */\r\n    set ease(ease)\r\n    {\r\n        this.options.ease = ease\r\n    }\r\n    get ease()\r\n    {\r\n        return this.options.ease\r\n    }\r\n}\r\n\r\n// manages the ids used to define the DisplayObject ease variable (enabled multiple eases attached to the same object)\r\nEase.id = 0\r\n\r\n/**\r\n * default instantiated Ease class\r\n * @type {Ease}\r\n */\r\nexport let ease = new Ease()\r\n\r\nEase.ease = ease\r\n\r\nexport class List\r\n{\r\n    constructor()\r\n    {\r\n        console.warn('Ease.List was deprecated. Use new Ease() instead.')\r\n    }\r\n}\r\n\r\n/**\r\n * fires when there are no more eases\r\n * @event Ease#complete\r\n * @type {Ease}\r\n */\r\n\r\n /**\r\n * fires on each loop when there are eases running\r\n * @event Ease#each\r\n * @type {Ease}\r\n */\r\n"],"names":["penner","factory","module","umd","linear","t","b","c","d","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","Math","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","pow","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInElastic","a","p","s","abs","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","call","this","has","Object","prototype","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","listener","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","slice","getOwnPropertySymbols","concat","listeners","handlers","i","l","length","ee","Array","listenerCount","emit","a1","a2","a3","a4","a5","args","len","arguments","removeListener","undefined","apply","j","on","removeAllListeners","off","prefixed","EaseDisplayObject","[object Object]","element","ease","super","eases","connected","entry","param","options","start","to","delta","update","substr","x","updateCoord","y","colors","isArray","tint","updateTint","updateBlend","updateShake","updatePosition","updatePoint","rotation","shortestAngle","atan2","updateOne","time","wait","finish","PI_2","diff","n","params","indexOf","splice","removeExisting","skew","scale","position","remove","opts","duration","repeat","reverse","addParam","coord","index","floor","calc","next","percent","color1","color2","percent1","r","g","random","swapX","swapY","swap","elapsed","_destroyed","key","current","leftover","complete","count","easeOptions","Penner","useTicker","maxFrame","Ease","assign","list","waitRemoveEase","waitRemoveAllEases","empty","ticker","pixiNS","PIXI","parseInt","exec","PIXI.VERSION","shared","Ticker","add","id","removeAll","easeDisplayObjects","target","speed","object","clear","forEach","easeDisplayObject","pop","max","elapsedMS","console","warn"],"mappings":"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"}